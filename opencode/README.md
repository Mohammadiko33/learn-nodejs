## 📌 دیتابیس (Database) چیست؟

«دیتابیس» در ساده‌ترین تعریف یعنی **مجموعه‌ای سازمان‌یافته از داده‌ها** که طوری ذخیره و مدیریت می‌شود که بتوان به‌راحتی آن‌ها را **ذخیره، بازیابی، جست‌وجو، ویرایش و مدیریت** کرد.

---

### 📝 مثال ساده

* وقتی توی یک دفترچه تلفن، اسم و شماره دوست‌هات رو می‌نویسی → داری یک دیتابیس دستی درست می‌کنی.
* وقتی این داده‌ها داخل کامپیوتر، موبایل یا سرور با نرم‌افزار خاص ذخیره می‌شن → میشه دیتابیس دیجیتال.

---

### ⚙️ اجزای اصلی دیتابیس

1. **داده‌ها (Data):** همون اطلاعات خام مثل اسم، شماره، قیمت، آدرس.
2. **DBMS (Database Management System):** نرم‌افزاری که مدیریت دیتابیس رو انجام میده (مثلا MySQL یا MongoDB).
3. **کاربر یا اپلیکیشن:** کسی یا چیزی که به دیتابیس وصل میشه و داده رو می‌خونه یا تغییر میده.

---

### 🎯 چرا دیتابیس مهمه؟

* نظم میده به داده‌ها (به‌جای ذخیره فایل‌های پراکنده).
* امنیت و کنترل دسترسی ایجاد می‌کنه.
* امکان کار هم‌زمان چندین کاربر/برنامه روی یک داده.
* سرعت بالا برای جست‌وجو و پردازش داده.

---

✅ خلاصه:
دیتابیس = جایی برای ذخیره و مدیریت داده به‌صورت ساخت‌یافته یا نیمه‌ساخت‌یافته، تا دسترسی به اطلاعات راحت‌تر، سریع‌تر و امن‌تر باشه.

---

عالی — می‌ریم سراغ یک **تحقیق جامع و مرتب** درباره‌ی دیتابیس‌های **SQL** و **NoSQL**، طوری که هم مفاهیم کُلی رو بفهمی و هم نکات فنی و عملی که برای انتخاب و طراحی لازم داری. من بخش‌ها رو واضح، با مثال و با منابع رسمی که از وب چک کردم ضمیمه می‌کنم تا هر ادعا قابل ردیابی باشه. ([PostgreSQL][1], [MongoDB][2], [AWS Documentation][3], [IBM][4])

---

# 1) تعریف خلاصه — چه چیزهایی هستند؟

* **SQL (Relational) databases**: دیتابیس‌های رابطه‌ای که داده‌ها را در *جداول* (رِلِیشن‌ها) با اسکیمای مشخص ذخیره می‌کنند؛ پرس‌وجوها با زبان SQL انجام می‌شود. مثال: PostgreSQL، MySQL، Oracle. ([PostgreSQL][1])
* **NoSQL databases**: مجموعه‌ای از دیتابیس‌های غیررابطه‌ای که مدل‌های متفاوتی (Document، Key-Value، Wide-Column، Graph) برای ذخیره‌سازی ارائه می‌دهند و معمولاً اسکیمای ثابت ندارند. مثال: MongoDB (Document)، DynamoDB (Key-Value/Document)، Cassandra (Wide-Column). ([MongoDB][2], [AWS Documentation][5])

---

# 2) انواع مدل‌های NoSQL (خلاصه)

* **Document**: داده به‌صورت اسناد JSON/BSON ذخیره می‌شود — نمونه: MongoDB. مناسب برای داده‌های نیمه‌ساخت‌یافته. ([MongoDB][6])
* **Key-Value**: ساده‌ترین مدل؛ کلید → مقدار. مناسب برای cache و session store و مقادیر ساده. ([AWS Documentation][5])
* **Wide-Column**: ستون‌های متغیر در جدول؛ مناسب تحلیل‌های توزیع‌شده و داده‌های حجیم (مثلاً Cassandra). ([WIRED][7])
* **Graph**: مدل رابطه‌محور برای گراف‌ها (نودها و یال‌ها) — مناسب شبکه‌های اجتماعی، مسیریابی، پرس‌وجوی وابستگی.

---

# 3) اسکِما و ساختار داده

* **SQL**: اسکیمای صریح (schema-first). باید ساختار جدول‌ها، نوع فیلدها و روابط را قبل از ذخیره مشخص کنی. این نظم باعث یکسانی داده‌ها و سهولت در join ها می‌شود. ([PostgreSQL][1])
* **NoSQL**: معمولاً اسکیمالِس یا اسکیمای انعطاف‌پذیر. هر رکورد (مثلاً سند در MongoDB) می‌تواند فیلدهای متفاوت داشته باشد — این برای توسعه سریع و تغییرات مدل داده مفید است. ([MongoDB][2])

---

# 4) ACID vs BASE (معمول‌ترین تقابل)

* **SQL**: طراحی‌شده برای خواص **ACID** (Atomicity, Consistency, Isolation, Durability) — مناسب تراکنش‌های حساس مانند بانکداری. ([PostgreSQL][1])
* **NoSQL**: اغلب به سمت **BASE** (Basically Available, Soft state, Eventual consistency) متمایل‌اند تا مقیاس‌پذیری افقی و در دسترس‌پذیری را بهتر کنند؛ با این حال بسیاری از NoSQLهای مدرن گزینه‌هایی برای تراکنش ACID محدود یا کامل ارائه می‌دهند (مثلاً تراکنش در MongoDB یا قابلیت‌های ACID در بعضی سرویس‌های مدیریتی). ([MongoDB][8], [AWS Documentation][5])

---

# 5) مقیاس‌پذیری (Scaling)

* **Vertical scaling (عمودی)**: معمول برای RDBMS — با افزایش منابع (CPU, RAM, I/O) ظرفیت افزایش می‌یابد. مناسب بارهای متقارن و تراکنش سنگین. ([PostgreSQL][1])
* **Horizontal scaling (افقی / sharding)**: غالباً نقطه قوت NoSQL — توزیع داده روی چند نود برای افزایش توان و تحمل خطا. سرویس‌های مدیریت‌شده مثل DynamoDB این کار را ساده می‌کنند. ([AWS Documentation][3])

---

# 6) قوی‌ترین و ضعیف‌ترین جنبه‌های هر کدام (خلاصه)

**SQL — مزایا**

* تراکنش و یکپارچگی داده (ACID). ([PostgreSQL][1])
* توانایی اجرای کوئری‌های پیچیده و join.
* اکوسیستم بالغ: ابزارهای مدیریتی، بک‌آپ، مانیتورینگ، ایمن‌سازی. ([PostgreSQL][9])

**SQL — معایب**

* مقیاس‌پذیری افقی پیچیده‌تر (نیاز به sharding یا راهکارهای خاص).
* نیاز به طراحی اسکیمای دقیق قبل از توسعه.

**NoSQL — مزایا**

* مدل داده منعطف، مناسب برای داده‌ی نیمه‌ساخت‌یافته/غیرساخت‌یافته. ([MongoDB][2])
* مقیاس‌پذیری افقی آسان‌تر و عملکرد بالا در سناریوهای خواندن/نوشتن زیاد. ([AWS Documentation][3])

**NoSQL — معایب**

* فقدان قابلیت‌های قوی join و کوئری‌های پیچیده (بسته به نوع دیتابیس). ([AWS Documentation][10])
* احتمال پیچیدگی در تضمین قوام قوی (اگر eventual consistency پیش‌فرض باشد).

---

# 7) مثال‌های واقعی و موقعیت‌های مناسب

* **وقتی SQL بهتر است**: سیستم‌های بانکی، حسابداری، سیستم‌های ERP/CRM، جایی که تراکنش‌ها و قوام داده حیاتی است. ([PostgreSQL][1])
* **وقتی NoSQL بهتر است**: اپلیکیشن‌های وب با رشد سریع، لاگ‌ها و telemetry، سیستم‌های توصیه‌گر و مواردی که ساختار داده تغییرپذیر است؛ یا وقتی نیاز به مقیاس‌پذیری بزرگ و latency پایین داری (مثلاً DynamoDB برای سرویس‌های با ترافیک بالا). ([MongoDB][8], [Amazon Web Services, Inc.][11])

---

# 8) CAP theorem — یادآوری مهم

طبق **قضیه CAP** در سیستم‌های توزیع‌شده، نمی‌شه به‌طور هم‌زمان این سه ویژگی رو در سطح کامل داشت:

1. **Consistency (یکپارچگی):** همه نودها همزمان داده‌ی یکسان دارند.
2. **Availability (دسترس‌پذیری):** هر درخواست، پاسخی معتبر (نه لزوماً جدیدترین) دریافت می‌کند.
3. **Partition tolerance (تحمل پارتیشن):** سیستم حتی با وجود قطعی شبکه بین نودها به کار ادامه می‌دهد.

* دیتابیس‌های **SQL سنتی** بیشتر روی Consistency و Availability تمرکز دارن.
* دیتابیس‌های **NoSQL توزیع‌شده** معمولاً Partition tolerance رو هم در نظر می‌گیرن و بسته به انتخاب کاربر بین Consistency و Availability trade-off می‌کنن.

---

# 9) Performance و Use-case

* **SQL:**

  * عالی برای کوئری‌های پیچیده، join، گزارش‌گیری.
  * سرعت بالا در تراکنش‌های ساخت‌یافته (مثل بانک‌ها، فروش آنلاین).

* **NoSQL:**

  * سرعت بالا در عملیات خواندن/نوشتن حجیم.
  * عالی برای داده‌های مقیاس‌پذیر و غیرساخت‌یافته (شبکه اجتماعی، سیستم‌های چت، IoT، ذخیره‌ی لاگ‌ها).

---

# 10) امنیت

* SQL دیتابیس‌ها سال‌هاست روی کنترل دسترسی سطح‌بالا (Role-based Access, GRANT, REVOKE) کار شده و استانداردهای امنیتی قوی دارن.
* NoSQL دیتابیس‌ها هم امنیت دارن، ولی چون اکثراً جدیدترن، هنوز بعضی ویژگی‌ها باید با ابزارهای جانبی یا تنظیمات اضافی تکمیل بشه.

---

# 11) آینده و روندها

* دیتابیس‌های **SQL مدرن** (مثل PostgreSQL, MySQL 8, Microsoft SQL Server) دارن قابلیت‌های NoSQLی مثل ذخیره JSON و indexing روی اون رو اضافه می‌کنن.
* دیتابیس‌های **NoSQL مدرن** هم به سمت پشتیبانی از تراکنش‌های ACID و queryهای قوی‌تر حرکت می‌کنن (مثلاً MongoDB یا Cosmos DB).
* در عمل، خیلی از شرکت‌ها ترکیب SQL و NoSQL استفاده می‌کنن (polyglot persistence) چون هر کدوم در یک حوزه قوی‌تر هستن.

---

# 📊 جمع‌بندی

* **SQL** → بهترین گزینه برای داده‌های ساخت‌یافته، تراکنش‌های حساس، و گزارش‌گیری پیچیده.
* **NoSQL** → بهترین گزینه برای داده‌های حجیم، مقیاس‌پذیری افقی، داده‌های غیرساخت‌یافته و اپلیکیشن‌های مدرن با رشد سریع.
* انتخاب بستگی به نیاز پروژه، نوع داده و بار سیستم داره.